"use strict";document.addEventListener("DOMContentLoaded",function(){for(var e="stool-priority-menu-button",t="stool-priority-menu-popup",n="ready",i="open",l=document.getElementsByClassName("stool-priority-menu"),o=0;o<l.length;o+=1)a(l[o]);function a(l){var o=document.createElement("ul");o.classList.add(t);var a=document.createElement("span");a.classList.add(e),a.addEventListener("click",function(){a.classList.toggle(i),o.classList.toggle(i)}),a.style.display="none",l.appendChild(a),l.appendChild(o);var d,r=l.getElementsByTagName("ul")[0],c=[].slice.call(r.getElementsByTagName("li")),u=0;0<c.length&&(u=c[0].clientHeight),a.style.minWidth=u+"px",setTimeout(function(){d=c.map(function(e){return e.offsetWidth}),s(r,u,c,d,a,o)},10),window.ST.onResize(function(){s(r,u,c,d,a,o)}),setTimeout(function(){l.classList.add(n)},100)}function s(e,t,n,i,l,o){for(var a=e.parentElement.getBoundingClientRect().width,s=n.length,d=0,r=0;r<i.length;r+=1)d+=i[r];if(a<d){a-=t+8;for(var c=0;c<i.length;c+=1)if((a-=i[c])<0){s=c;break}}for(var u=0;u<s;u+=1){n[u].parentElement===e?i[u]=n[u].offsetWidth:e.appendChild(n[u])}for(var p=s;p<n.length;p+=1)o.appendChild(n[p]);l.style.display=s===n.length?"none":""}});