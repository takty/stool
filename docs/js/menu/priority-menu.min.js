"use strict";document.addEventListener("DOMContentLoaded",function(){for(var e="stool-priority-menu-button",t="stool-priority-menu-popup",n="ready",i="open",l=document.getElementsByClassName("stool-priority-menu"),a=0;a<l.length;a+=1)s(l[a]);function s(l){var a=document.createElement("ul");a.classList.add(t);var s=document.createElement("span");s.classList.add(e),s.addEventListener("click",function(){s.classList.toggle(i),a.classList.toggle(i)}),s.style.display="none",l.appendChild(s),l.appendChild(a);for(var r=l.getElementsByTagName("ul")[0],d=[].slice.call(r.getElementsByTagName("li")),c=0;c<d.length;c+=1){var m=d[c].getElementsByTagName("a");0!==m.length&&m[0].addEventListener("click",function(){s.classList.remove(i),a.classList.remove(i)})}var u,g=0;0<d.length&&(g=d[0].clientHeight),s.style.minWidth=g+"px",setTimeout(function(){u=d.map(function(e){return e.offsetWidth}),o(r,g,d,u,s,a)},10),window.ST.onResize(function(){o(r,g,d,u,s,a)}),setTimeout(function(){l.classList.add(n)},100)}function o(e,t,n,i,l,a){for(var s=e.parentElement.getBoundingClientRect().width,o=n.length,r=0,d=0;d<i.length;d+=1)r+=i[d];if(s<r){s-=t+8;for(var c=0;c<i.length;c+=1)if((s-=i[c])<0){o=c;break}}for(var m=0;m<o;m+=1){n[m].parentElement===e?i[m]=n[m].offsetWidth:e.appendChild(n[m])}for(var u=o;u<n.length;u+=1)a.appendChild(n[u]);l.style.display=o===n.length?"none":""}});